(this["webpackJsonpfungataua-crm-frontend"]=this["webpackJsonpfungataua-crm-frontend"]||[]).push([[14],{116:function(e,t,a){"use strict";var c=a(2),s=a.n(c),n=a(8),i=a(43),l=a(5),r=a(12),d=a(10);t.a=function(e){var t=e.url,a=e.method,c=e.data,o=e.headers,j=e.nextSuccess,b=e.nextError,m=e.initialValue,u=void 0===m?"":m,x=Object(l.useState)(u),O=Object(i.a)(x,2),h=O[0],f=O[1],p=Object(l.useState)(!1),g=Object(i.a)(p,2),N=g[0],y=g[1],v=Object(l.useState)(""),k=Object(i.a)(v,2),_=k[0],C=k[1];return[function(){var e=Object(n.a)(s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,C(null),y(!0),e.next=5,Object(r.a)({url:t,method:a,headers:o,data:c});case 5:(n=e.sent).data.success?(f(n.data.data),j&&j(n.data.data,f),y(!1)):(b&&b(n.data.error),y(!1),C(n.data.error)),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(0),Object(d.j)(e.t0),y(!1),C(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),N,_,h]}},120:function(e,t,a){"use strict";a(5);var c=a(274),s=a(275),n=a(105),i=a(114),l=a(6),r=a(14),d=function(e){return"/".concat(e)===l.d?Object(r.jsx)(i.a,{id:"menu.home"}):Object(r.jsx)(i.a,{id:"menu.".concat(e)})},o=function(e,t){return e.split(t)[0]+t},j=function(e){var t=e.match.path.substr(1),a=t.split("/");return a[a.length-1].indexOf(":")>-1&&(a=a.filter((function(e){return-1===e.indexOf(":")}))),Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(c.a,{className:"pt-0 breadcrumb-container d-none d-sm-block d-lg-inline-block",children:a.map((function(e,c){return Object(r.jsx)(s.a,{active:a.length===c+1,children:a.length!==c+1?Object(r.jsx)(n.b,{to:"/".concat(o(t,e)),children:d(e)}):d(e)},c)}))})})};t.a=function(e){var t=e.heading,a=e.match;return Object(r.jsxs)(r.Fragment,{children:[t&&Object(r.jsx)("h1",{children:Object(r.jsx)(i.a,{id:t})}),Object(r.jsx)(j,{match:a})]})}},124:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var c=a(37);var s=a(49);function n(e){return function(e){if(Array.isArray(e))return Object(c.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(s.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},220:function(e,t,a){"use strict";var c=a(11),s=a(16),n=a(5),i=a.n(n),l=a(30),r=a.n(l),d=a(109),o=a.n(d),j=a(111),b={color:r.a.string,pill:r.a.bool,tag:j.q,innerRef:r.a.oneOfType([r.a.object,r.a.func,r.a.string]),children:r.a.node,className:r.a.string,cssModule:r.a.object},m=function(e){var t=e.className,a=e.cssModule,n=e.color,l=e.innerRef,r=e.pill,d=e.tag,b=Object(s.a)(e,["className","cssModule","color","innerRef","pill","tag"]),m=Object(j.m)(o()(t,"badge","badge-"+n,!!r&&"badge-pill"),a);return b.href&&"span"===d&&(d="a"),i.a.createElement(d,Object(c.a)({},b,{className:m,ref:l}))};m.propTypes=b,m.defaultProps={color:"secondary",pill:!1,tag:"span"},t.a=m},230:function(e,t,a){"use strict";var c=a(11),s=a(16),n=a(5),i=a.n(n),l=a(30),r=a.n(l),d=a(109),o=a.n(d),j=a(111),b=a(118),m=a(18),u={className:r.a.string,id:r.a.oneOfType([r.a.string,r.a.number]).isRequired,label:r.a.node,valid:r.a.bool,invalid:r.a.bool,bsSize:r.a.string,htmlFor:r.a.string,cssModule:r.a.object,onChange:r.a.func,children:r.a.oneOfType([r.a.node,r.a.array,r.a.func]),innerRef:r.a.oneOfType([r.a.object,r.a.string,r.a.func])},x=function(e){function t(t){var a;return(a=e.call(this,t)||this).state={files:null},a.onChange=a.onChange.bind(Object(b.a)(a)),a}Object(m.a)(t,e);var a=t.prototype;return a.onChange=function(e){var t=e.target,a=this.props.onChange,c=this.getSelectedFiles(t);"function"===typeof a&&a.apply(void 0,arguments),this.setState({files:c})},a.getSelectedFiles=function(e){if(this.props.multiple&&e.files)return[].slice.call(e.files).map((function(e){return e.name})).join(", ");if(-1!==e.value.indexOf("fakepath")){var t=e.value.split("\\");return t[t.length-1]}return e.value},a.render=function(){var e=this.props,t=e.className,a=e.label,n=e.valid,l=e.invalid,r=e.cssModule,d=e.children,b=(e.bsSize,e.innerRef),m=e.htmlFor,u=(e.type,e.onChange,e.dataBrowse),x=e.hidden,O=Object(s.a)(e,["className","label","valid","invalid","cssModule","children","bsSize","innerRef","htmlFor","type","onChange","dataBrowse","hidden"]),h=Object(j.m)(o()(t,"custom-file"),r),f=Object(j.m)(o()(l&&"is-invalid",n&&"is-valid"),r),p=m||O.id,g=this.state.files;return i.a.createElement("div",{className:h,hidden:x||!1},i.a.createElement("input",Object(c.a)({type:"file"},O,{ref:b,"aria-invalid":l,className:o()(f,Object(j.m)("custom-file-input",r)),onChange:this.onChange})),i.a.createElement("label",{className:Object(j.m)("custom-file-label",r),htmlFor:p,"data-browse":u},g||a||"Choose file"),d)},t}(i.a.Component);x.propTypes=u;var O=x,h={className:r.a.string,id:r.a.oneOfType([r.a.string,r.a.number]).isRequired,type:r.a.string.isRequired,label:r.a.node,inline:r.a.bool,valid:r.a.bool,invalid:r.a.bool,bsSize:r.a.string,htmlFor:r.a.string,cssModule:r.a.object,children:r.a.oneOfType([r.a.node,r.a.array,r.a.func]),innerRef:r.a.oneOfType([r.a.object,r.a.string,r.a.func])};function f(e){var t=e.className,a=e.label,n=e.inline,l=e.valid,r=e.invalid,d=e.cssModule,b=e.children,m=e.bsSize,u=e.innerRef,x=e.htmlFor,h=Object(s.a)(e,["className","label","inline","valid","invalid","cssModule","children","bsSize","innerRef","htmlFor"]),f=h.type,p=Object(j.m)(o()(t,"custom-"+f,!!m&&"custom-"+f+"-"+m),d),g=Object(j.m)(o()(r&&"is-invalid",l&&"is-valid"),d),N=x||h.id;if("select"===f){h.type;var y=Object(s.a)(h,["type"]);return i.a.createElement("select",Object(c.a)({},y,{ref:u,className:o()(g,p),"aria-invalid":r}),b)}if("file"===f)return i.a.createElement(O,e);if("checkbox"!==f&&"radio"!==f&&"switch"!==f)return i.a.createElement("input",Object(c.a)({},h,{ref:u,"aria-invalid":r,className:o()(g,p)}));var v=o()(p,Object(j.m)(o()("custom-control",{"custom-control-inline":n}),d)),k=h.hidden,_=Object(s.a)(h,["hidden"]);return i.a.createElement("div",{className:v,hidden:k||!1},i.a.createElement("input",Object(c.a)({},_,{type:"switch"===f?"checkbox":f,ref:u,"aria-invalid":r,className:o()(g,Object(j.m)("custom-control-input",d))})),i.a.createElement("label",{className:Object(j.m)("custom-control-label",d),htmlFor:N},a),b)}f.propTypes=h;t.a=f},369:function(e,t,a){"use strict";a.r(t);var c=a(124),s=a(0),n=a(43),i=a(5),l=a(206),r=a(44),d=a(113),o=a(220),j=a(162),b=a(109),m=a.n(b),u=a(119),x=a(353),O=a(354),h=a(323),f=a(14),p=function(e){var t=e.totalPage,a=void 0===t?0:t,c=e.currentPage,s=void 0===c?1:c,n=e.numberLimit,i=void 0===n?5:n,l=e.lastIsActive,r=void 0===l||l,o=e.firstIsActive,j=void 0===o||o,b=e.onChangePage,m=1,u=i;i>a?(m=1,u=a):s<=parseInt(i/2,10)?(m=1,u=i):s+parseInt(i/2,10)<=a?(m=s-parseInt(i/2,10),u=s+parseInt(i/2,10)):(m=a-(i-1),u=a);for(var p=[],g=m=0===m?1:m;g<=u;g+=1)p.push(g);var N=s<=1?"disabled":"",y=s>=a?"disabled":"",v=s<=1?"disabled":"",k=s>=a?"disabled":"";return a>1?Object(f.jsx)(d.a,{xxs:"12",className:"mt-3 mb-3",children:Object(f.jsxs)(x.a,{className:"pagination justify-content-center",children:[j&&Object(f.jsx)(O.a,{className:"page-item ".concat(N),children:Object(f.jsx)(h.a,{className:"page-link first c-pointer",onClick:function(){return b(1)},children:Object(f.jsx)("i",{className:"simple-icon-control-start"})})}),Object(f.jsx)(O.a,{className:"page-item ".concat(v),children:Object(f.jsx)(h.a,{className:"page-link prev c-pointer",onClick:function(){return b(s-1)},children:Object(f.jsx)("i",{className:"simple-icon-arrow-left"})})}),p.map((function(e){return Object(f.jsx)(O.a,{className:"page-item ".concat(s===e&&"active"),children:Object(f.jsx)(h.a,{className:"page-link c-pointer",onClick:function(){return b(e)},children:e})},e)})),Object(f.jsx)(O.a,{className:"page-item ".concat(k),children:Object(f.jsx)(h.a,{className:"page-link next c-pointer",onClick:function(){return b(s+1)},children:Object(f.jsx)("i",{className:"simple-icon-arrow-right"})})}),r&&Object(f.jsx)(O.a,{className:"page-item ".concat(y),children:Object(f.jsx)(h.a,{className:"page-link last c-pointer",onClick:function(){return b(a)},children:Object(f.jsx)("i",{className:"simple-icon-control-end"})})})]})}):Object(f.jsx)(d.a,{xxs:"12",className:"mt-2"})},g=function(e){var t=e.onContextMenu,a=e.onContextMenuClick;return Object(f.jsxs)(u.a,{id:"menu_id",onShow:function(e){return t(e,e.detail.data)},style:{borderRadius:"16px"},children:[Object(f.jsxs)(u.c,{onClick:a,data:{action:"edit"},className:"text-primary",children:[Object(f.jsx)("i",{className:"simple-icon-pencil"})," ",Object(f.jsx)("span",{children:"Edit"})]}),Object(f.jsxs)(u.c,{onClick:a,data:{action:"create-new"},className:"text-primary",children:[Object(f.jsx)("i",{className:"simple-icon-plus"})," ",Object(f.jsx)("span",{children:"Add New"})]})]})},N=function(e){var t,a,c=e.item,s=e.isSelect,n=e.collect,i=e.onCheckItem,l=c.email,r=c.name,b=c.phone_number,x=c.is_superadmin,O=c.is_enabled;return Object(f.jsx)(d.a,{xxs:"12",className:"mb-3",children:Object(f.jsx)(u.b,{id:"menu_id",data:c,collect:n,children:Object(f.jsx)(j.a,{onClick:function(e){return i(e,c.email)},className:m()("d-flex flex-row",{active:s}),children:Object(f.jsx)("div",{className:"pl-2 d-flex flex-grow-1 min-width-zero",children:Object(f.jsxs)("div",{className:"card-body align-self-center d-flex flex-column flex-lg-row justify-content-between min-width-zero align-items-lg-center",children:[Object(f.jsx)("p",{className:"list-item-heading mb-1 truncate w-30 w-sm-100",children:r}),Object(f.jsx)("p",{className:"mb-0 text-muted text-center w-20 w-sm-100",children:l}),Object(f.jsx)("p",{className:"mb-0 text-muted text-center w-20 w-sm-100",children:b}),Object(f.jsx)("p",{className:"mb-0 text-center w-20 w-sm-100",children:(a=x,a?Object(f.jsx)(o.a,{color:"primary",pill:!0,children:"Super Admin"}):Object(f.jsx)(o.a,{color:"secondary",pill:!0,children:"Admin"}))}),Object(f.jsx)("p",{className:"mb-0 text-muted text-center w-10 w-sm-100",children:(t=O,Object(f.jsx)(o.a,{color:"text",pill:!0,children:t?Object(f.jsx)("i",{className:"mb-0 h5 simple-icon-check text-success"}):Object(f.jsx)("i",{className:"mb-0 h5 simple-icon-close text-danger"})}))})]})})})})})};function y(e){return{data:e.data}}var v=function(e){var t=e.items,a=e.selectedItems,c=e.onCheckItem,s=e.currentPage,n=e.totalPage,i=e.onContextMenuClick,r=e.onContextMenu,d=e.onChangePage;return Object(f.jsxs)(l.a,{children:[t.map((function(e){return Object(f.jsx)(N,{item:e,isSelect:a.includes(e.email),onCheckItem:c,collect:y},e.email)})),Object(f.jsx)(p,{currentPage:s,totalPage:n,onChangePage:function(e){return d(e)}}),Object(f.jsx)(g,{onContextMenuClick:i,onContextMenu:r})]})},k=a(45),_=a(380),C=a(358),w=a(359),S=a(209),A=a(360),E=a(230),P=a(361),M=a(203),U=a(114),z=a(10),I=a(117),T=a(1),F=a(116),R=function(){return{name:"",email:"",phone_number:"",password:"",is_superadmin:!1,client_add:!1,client_edit:!1,services_add:!1,services_edit:!1,category_add:!1,category_edit:!1,status_add:!1,status_edit:!1,is_enabled:!0}},q=Object(r.b)((function(e){var t=e.authUser,a=e.accountsApp;return{accessToken:t.accessToken,filters:a.filters}}),{getUsersAction:T.Qb})((function(e){var t=e.modalOpen,a=e.toggleModal,c=e.accessToken,r=e.filters,o=e.getUsersAction,j=Object(i.useState)(R),b=Object(n.a)(j,2),m=b[0],u=b[1],x=function(e){u(Object(s.a)(Object(s.a)({},m),{},Object(k.a)({},e.target.id,e.target.value)))},O=function(e){var t;"is_superadmin"===e.target.id?u(Object(s.a)(Object(s.a)({},m),{},(t={},Object(k.a)(t,e.target.id,!m[e.target.id]),Object(k.a)(t,"client_add",!m[e.target.id]),Object(k.a)(t,"client_edit",!m[e.target.id]),Object(k.a)(t,"services_add",!m[e.target.id]),Object(k.a)(t,"services_edit",!m[e.target.id]),Object(k.a)(t,"category_add",!m[e.target.id]),Object(k.a)(t,"category_edit",!m[e.target.id]),Object(k.a)(t,"status_add",!m[e.target.id]),Object(k.a)(t,"status_edit",!m[e.target.id]),t))):u(Object(s.a)(Object(s.a)({},m),{},Object(k.a)({},e.target.id,!m[e.target.id])))},h=Object(F.a)({url:"/users/add-user",method:"POST",headers:{Authorization:c},data:m,nextSuccess:function(){I.b.success("User Added Successfully","User Operation Success",3e3,null,null,""),o(c,r),Object(z.p)(1200,(function(){u(R),a(!1)}))},nextError:function(){I.b.error("Email Already Exist!","User Operation Error",3e3,null,null,"")}}),p=Object(n.a)(h,2),g=p[0],N=p[1];return Object(f.jsxs)(_.a,{isOpen:t,toggle:function(){a(),u(R)},wrapClassName:"modal-right",backdrop:"static",children:[Object(f.jsx)(C.a,{toggle:function(){a(),u(R)},children:Object(f.jsx)(U.a,{id:"pages.add-new-modal-title"})}),Object(f.jsxs)(w.a,{children:[Object(f.jsx)(S.a,{children:Object(f.jsx)(U.a,{id:"pages.user-name"})}),Object(f.jsx)(A.a,{id:"name",value:m.name,required:!0,onChange:x}),Object(f.jsx)(S.a,{className:"mt-4",children:Object(f.jsx)(U.a,{id:"pages.user-email"})}),Object(f.jsx)(A.a,{id:"email",required:!0,pattern:"/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i",placeholder:"example@email.com",value:m.email,onChange:x}),Object(f.jsx)(S.a,{className:"mt-4",children:Object(f.jsx)(U.a,{id:"pages.user-password"})}),Object(f.jsx)(A.a,{id:"password",value:m.password,required:!0,onChange:x}),Object(f.jsx)(S.a,{className:"mt-4",children:Object(f.jsx)(U.a,{id:"pages.user-phone"})}),Object(f.jsx)(A.a,{id:"phone_number",value:m.phone_number,onChange:x}),Object(f.jsxs)(l.a,{className:"mt-4",children:[Object(f.jsx)(d.a,{className:"d-flex flex-column justify-content-center",children:Object(f.jsx)(S.a,{className:"m-0 align-middle",children:Object(f.jsx)(U.a,{id:"pages.user-is-super-admin"})})}),Object(f.jsx)(d.a,{className:"d-flex flex-column justify-content-center",children:Object(f.jsx)(E.a,{id:"is_superadmin",type:"checkbox",checked:m.is_superadmin,onChange:O})})]}),Object(f.jsxs)(l.a,{className:"mt-4",children:[Object(f.jsx)(d.a,{className:"d-flex flex-column justify-content-center",children:Object(f.jsx)(S.a,{className:"m-0 align-middle",children:Object(f.jsx)(U.a,{id:"pages.user-is-enabled"})})}),Object(f.jsx)(d.a,{className:"d-flex flex-column justify-content-center",children:Object(f.jsx)(E.a,{id:"is_enabled",type:"checkbox",checked:m.is_enabled,onChange:O})})]}),Object(f.jsxs)(l.a,{className:"mt-4",children:[Object(f.jsx)(d.a,{xxs:"6",className:"d-flex flex-column justify-content-center",children:Object(f.jsx)(S.a,{className:"m-0 align-middle",children:Object(f.jsx)(U.a,{id:"pages.permission"})})}),Object(f.jsx)(d.a,{xxs:"3",className:"d-flex flex-column justify-content-center",children:Object(f.jsx)(S.a,{className:"m-0 align-middle",children:Object(f.jsx)(U.a,{id:"pages.add"})})}),Object(f.jsx)(d.a,{xxs:"3",className:"d-flex flex-column justify-content-center",children:Object(f.jsx)(S.a,{className:"m-0 align-middle",children:Object(f.jsx)(U.a,{id:"pages.edit"})})})]}),Object(f.jsx)(d.b,{}),Object(f.jsxs)(l.a,{className:"mt-2",children:[Object(f.jsx)(d.a,{xxs:"6",className:"d-flex flex-column justify-content-center",children:Object(f.jsx)(S.a,{className:"m-0 align-middle",children:Object(f.jsx)(U.a,{id:"pages.category"})})}),Object(f.jsx)(d.a,{xxs:"3",className:"d-flex flex-column justify-content-center",children:Object(f.jsx)(E.a,{id:"category_add",type:"checkbox",checked:m.category_add,onChange:O})}),Object(f.jsx)(d.a,{xxs:"3",className:"d-flex flex-column justify-content-center",children:Object(f.jsx)(E.a,{id:"category_edit",type:"checkbox",checked:m.category_edit,onChange:O})})]}),Object(f.jsxs)(l.a,{className:"mt-2",children:[Object(f.jsx)(d.a,{xxs:"6",className:"d-flex flex-column justify-content-center",children:Object(f.jsx)(S.a,{className:"m-0 align-middle",children:Object(f.jsx)(U.a,{id:"pages.client"})})}),Object(f.jsx)(d.a,{xxs:"3",className:"d-flex flex-column justify-content-center",children:Object(f.jsx)(E.a,{id:"client_add",type:"checkbox",checked:m.client_add,onChange:O})}),Object(f.jsx)(d.a,{xxs:"3",className:"d-flex flex-column justify-content-center",children:Object(f.jsx)(S.a,{className:"m-0 align-middle",children:Object(f.jsx)(E.a,{id:"client_edit",type:"checkbox",checked:m.client_edit,onChange:O})})})]}),Object(f.jsxs)(l.a,{className:"mt-2",children:[Object(f.jsx)(d.a,{xxs:"6",className:"d-flex flex-column justify-content-center",children:Object(f.jsx)(S.a,{className:"m-0 align-middle",children:Object(f.jsx)(U.a,{id:"pages.services"})})}),Object(f.jsx)(d.a,{xxs:"3",className:"d-flex flex-column justify-content-center",children:Object(f.jsx)(E.a,{id:"services_add",type:"checkbox",checked:m.services_add,onChange:O})}),Object(f.jsx)(d.a,{xxs:"3",className:"d-flex flex-column justify-content-center",children:Object(f.jsx)(E.a,{id:"services_edit",type:"checkbox",checked:m.services_edit,onChange:O})})]}),Object(f.jsxs)(l.a,{className:"mt-2",children:[Object(f.jsx)(d.a,{xxs:"6",className:"d-flex flex-column justify-content-center",children:Object(f.jsx)(S.a,{className:"m-0 align-middle",children:Object(f.jsx)(U.a,{id:"pages.status"})})}),Object(f.jsx)(d.a,{xxs:"3",className:"d-flex flex-column justify-content-center",children:Object(f.jsx)(E.a,{id:"status_add",type:"checkbox",checked:m.status_add,onChange:O})}),Object(f.jsx)(d.a,{xxs:"3",className:"d-flex flex-column justify-content-center",children:Object(f.jsx)(E.a,{id:"status_edit",type:"checkbox",checked:m.status_edit,onChange:O})})]})]}),Object(f.jsxs)(P.a,{children:[Object(f.jsx)(M.a,{color:"danger",outline:!0,onClick:function(){a(),u(R)},children:Object(f.jsx)(U.a,{id:"pages.cancel"})}),Object(f.jsxs)(M.a,{id:"add-new-user",color:"primary",className:"btn-shadow btn-multiple-state ".concat(N?"show-spinner":""),onClick:function(){m.password.length<=3?I.b.error("Password should be more than 3 characters.","User Operation Error",3e3,null,null,""):g()},children:[Object(f.jsxs)("span",{className:"spinner d-inline-block",children:[Object(f.jsx)("span",{className:"bounce1"}),Object(f.jsx)("span",{className:"bounce2"}),Object(f.jsx)("span",{className:"bounce3"})]}),Object(f.jsx)("span",{className:"label",children:Object(f.jsx)(U.a,{id:"pages.submit"})})]})]})]})})),D=a(355),Z=a(378),X=a(379),B=a(351),K=a(352),L=a(120),Q=function(){return Object(f.jsx)(j.a,{className:"d-flex flex-row mb-4",children:Object(f.jsx)("div",{className:"pl-2 d-flex flex-grow-1 min-width-zero",children:Object(f.jsxs)("div",{className:"card-body align-self-center d-flex flex-column flex-lg-row justify-content-between min-width-zero align-items-lg-center",children:[Object(f.jsx)("p",{className:"list-item-heading mb-1 truncate w-30 w-sm-100",children:"Name"}),Object(f.jsx)("p",{className:"mb-1 text-muted text-center w-20 w-sm-100",children:"Email"}),Object(f.jsx)("p",{className:"mb-1 text-muted text-center w-20 w-sm-100",children:"Phone Number"}),Object(f.jsx)("p",{className:"mb-1 text-muted text-center w-20 w-sm-100",children:"Role"}),Object(f.jsx)("div",{className:"mb-1 text-muted text-center w-10 w-sm-100",children:"Is Enabled"})]})})})},J=function(e){var t=e.changeOrderBy,a=e.changePageSize,c=e.selectedPageSize,s=e.totalItemCount,r=e.selectedOrderOption,o=e.match,j=e.startIndex,b=e.endIndex,m=e.onSearchKey,u=e.orderOptions,x=e.pageSizes,O=e.toggleModal,h=e.heading,p=Object(i.useState)(!1),g=Object(n.a)(p,2),N=g[0],y=g[1];return Object(f.jsx)(l.a,{children:Object(f.jsxs)(d.a,{xxs:"12",children:[Object(f.jsxs)("div",{className:"mb-2",children:[Object(f.jsx)("h1",{children:Object(f.jsx)(U.a,{id:h})}),Object(f.jsx)("div",{className:"text-zero top-right-button-container",children:Object(f.jsx)(M.a,{color:"primary",size:"lg",className:"top-right-button",onClick:function(){return O()},children:Object(f.jsx)(U.a,{id:"pages.add-new"})})}),Object(f.jsx)(L.a,{match:o})]}),Object(f.jsxs)("div",{className:"mb-2",children:[Object(f.jsxs)(M.a,{color:"empty",className:"pt-0 pl-0 d-inline-block d-md-none",onClick:function(){return y(!N)},children:[Object(f.jsx)(U.a,{id:"pages.display-options"})," ",Object(f.jsx)("i",{className:"simple-icon-arrow-down align-middle"})]}),Object(f.jsxs)(D.a,{isOpen:N,className:"d-md-block",id:"displayOptions",children:[Object(f.jsxs)("div",{className:"d-block d-md-inline-block pt-1",children:[Object(f.jsxs)(Z.a,{className:"mr-1 float-md-left btn-group mb-1",children:[Object(f.jsxs)(X.a,{caret:!0,color:"outline-dark",size:"xs",children:[Object(f.jsx)(U.a,{id:"pages.orderby"}),r.label]}),Object(f.jsx)(B.a,{children:u.map((function(e,a){return Object(f.jsx)(K.a,{onClick:function(){return t(e.column)},children:e.label},a)}))})]}),Object(f.jsx)("div",{className:"search-sm d-inline-block float-md-left mr-1 mb-1 align-top",children:Object(f.jsx)("input",{type:"text",id:"search",onKeyPress:function(e){return m(e)}})})]}),Object(f.jsxs)("div",{className:"float-md-right pt-1",children:[Object(f.jsx)("span",{className:"text-muted text-small mr-1",children:"".concat(j,"-").concat(b," of ").concat(s," ")}),Object(f.jsxs)(Z.a,{className:"d-inline-block",children:[Object(f.jsx)(X.a,{caret:!0,color:"outline-dark",size:"xs",children:c}),Object(f.jsx)(B.a,{right:!0,children:x.map((function(e,t){return Object(f.jsx)(K.a,{onClick:function(){return a(e)},children:e},t)}))})]})]})]})]}),Object(f.jsx)(Q,{}),Object(f.jsx)(d.b,{className:"mb-5"})]})})},$=Object(r.b)((function(e){var t=e.authUser,a=e.accountsApp;return{accessToken:t.accessToken,filters:a.filters}}),{getUsersAction:T.Qb})((function(e){var t=e.modalOpen,a=e.currentUserData,c=e.toggleModal,r=e.accessToken,o=e.filters,j=e.getUsersAction,b=Object(i.useState)(Object(s.a)(Object(s.a)({},a),{},{password:"null"})),m=Object(n.a)(b,2),u=m[0],x=m[1];Object(i.useEffect)((function(){x(Object(s.a)(Object(s.a)({},a),{},{password:"null"}))}),[a]);var O=Object(F.a)({url:"/users/edit-user/".concat(u.id),method:"PUT",headers:{Authorization:r},data:u,nextSuccess:function(){I.b.success("User Edited Successfully","User Operation Success",3e3,null,null,""),j(r,o),Object(z.p)(1200,(function(){x(Object(s.a)(Object(s.a)({},a),{},{password:"null"})),c(!1)}))},nextError:function(e){I.b.error(e,"User Operation Error",3e3,null,null,"")}}),h=Object(n.a)(O,2),p=h[0],g=h[1],N=function(e){x(Object(s.a)(Object(s.a)({},u),{},Object(k.a)({},e.target.id,e.target.value)))},y=function(e){var t;"is_superadmin"===e.target.id?x(Object(s.a)(Object(s.a)({},u),{},(t={},Object(k.a)(t,e.target.id,!u[e.target.id]),Object(k.a)(t,"client_add",!u[e.target.id]),Object(k.a)(t,"client_edit",!u[e.target.id]),Object(k.a)(t,"services_add",!u[e.target.id]),Object(k.a)(t,"services_edit",!u[e.target.id]),Object(k.a)(t,"category_add",!u[e.target.id]),Object(k.a)(t,"category_edit",!u[e.target.id]),Object(k.a)(t,"status_add",!u[e.target.id]),Object(k.a)(t,"status_edit",!u[e.target.id]),t))):x(Object(s.a)(Object(s.a)({},u),{},Object(k.a)({},e.target.id,!u[e.target.id])))};return Object(f.jsxs)(_.a,{isOpen:t,toggle:c,wrapClassName:"modal-right",backdrop:"static",children:[Object(f.jsx)(C.a,{toggle:c,children:Object(f.jsx)(U.a,{id:"pages.edit-modal-title"})}),Object(f.jsxs)(w.a,{children:[Object(f.jsx)(S.a,{children:Object(f.jsx)(U.a,{id:"pages.user-name"})}),Object(f.jsx)(A.a,{id:"name",value:u.name,required:!0,onChange:N}),Object(f.jsx)(S.a,{className:"mt-4",children:Object(f.jsx)(U.a,{id:"pages.user-email"})}),Object(f.jsx)(A.a,{id:"email",required:!0,pattern:"/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i",placeholder:"example@email.com",value:u.email,onChange:N}),Object(f.jsx)(S.a,{className:"mt-4",children:Object(f.jsx)(U.a,{id:"pages.user-password"})}),Object(f.jsx)(A.a,{id:"password",value:"null"===u.password?null:u.password,required:!0,onChange:N}),Object(f.jsx)(S.a,{className:"mt-4",children:Object(f.jsx)(U.a,{id:"pages.user-phone"})}),Object(f.jsx)(A.a,{id:"phone_number",value:u.phone_number,placeholder:"987XX XX789",onChange:N}),Object(f.jsxs)(l.a,{className:"mt-4",children:[Object(f.jsx)(d.a,{className:"d-flex flex-column justify-content-center",children:Object(f.jsx)(S.a,{className:"m-0 align-middle",children:Object(f.jsx)(U.a,{id:"pages.user-is-super-admin"})})}),Object(f.jsx)(d.a,{className:"d-flex flex-column justify-content-center",children:Object(f.jsx)(E.a,{id:"is_superadmin",type:"checkbox",checked:u.is_superadmin,onChange:y})})]}),Object(f.jsxs)(l.a,{className:"mt-4",children:[Object(f.jsx)(d.a,{className:"d-flex flex-column justify-content-center",children:Object(f.jsx)(S.a,{className:"m-0 align-middle",children:Object(f.jsx)(U.a,{id:"pages.user-is-enabled"})})}),Object(f.jsx)(d.a,{className:"d-flex flex-column justify-content-center",children:Object(f.jsx)(E.a,{id:"is_enabled",type:"checkbox",checked:u.is_enabled,onChange:y})})]}),Object(f.jsxs)(l.a,{className:"mt-4",children:[Object(f.jsx)(d.a,{xxs:"6",className:"d-flex flex-column justify-content-center",children:Object(f.jsx)(S.a,{className:"m-0 align-middle",children:Object(f.jsx)(U.a,{id:"pages.permission"})})}),Object(f.jsx)(d.a,{xxs:"3",className:"d-flex flex-column justify-content-center",children:Object(f.jsx)(S.a,{className:"m-0 align-middle",children:Object(f.jsx)(U.a,{id:"pages.add"})})}),Object(f.jsx)(d.a,{xxs:"3",className:"d-flex flex-column justify-content-center",children:Object(f.jsx)(S.a,{className:"m-0 align-middle",children:Object(f.jsx)(U.a,{id:"pages.edit"})})})]}),Object(f.jsx)(d.b,{}),Object(f.jsxs)(l.a,{className:"mt-2",children:[Object(f.jsx)(d.a,{xxs:"6",className:"d-flex flex-column justify-content-center",children:Object(f.jsx)(S.a,{className:"m-0 align-middle",children:Object(f.jsx)(U.a,{id:"pages.category"})})}),Object(f.jsx)(d.a,{xxs:"3",className:"d-flex flex-column justify-content-center",children:Object(f.jsx)(E.a,{id:"category_add",type:"checkbox",checked:u.category_add,onChange:y})}),Object(f.jsx)(d.a,{xxs:"3",className:"d-flex flex-column justify-content-center",children:Object(f.jsx)(E.a,{id:"category_edit",type:"checkbox",checked:u.category_edit,onChange:y})})]}),Object(f.jsxs)(l.a,{className:"mt-2",children:[Object(f.jsx)(d.a,{xxs:"6",className:"d-flex flex-column justify-content-center",children:Object(f.jsx)(S.a,{className:"m-0 align-middle",children:Object(f.jsx)(U.a,{id:"pages.client"})})}),Object(f.jsx)(d.a,{xxs:"3",className:"d-flex flex-column justify-content-center",children:Object(f.jsx)(E.a,{id:"client_add",type:"checkbox",checked:u.client_add,onChange:y})}),Object(f.jsx)(d.a,{xxs:"3",className:"d-flex flex-column justify-content-center",children:Object(f.jsx)(S.a,{className:"m-0 align-middle",children:Object(f.jsx)(E.a,{id:"client_edit",type:"checkbox",checked:u.client_edit,onChange:y})})})]}),Object(f.jsxs)(l.a,{className:"mt-2",children:[Object(f.jsx)(d.a,{xxs:"6",className:"d-flex flex-column justify-content-center",children:Object(f.jsx)(S.a,{className:"m-0 align-middle",children:Object(f.jsx)(U.a,{id:"pages.services"})})}),Object(f.jsx)(d.a,{xxs:"3",className:"d-flex flex-column justify-content-center",children:Object(f.jsx)(E.a,{id:"services_add",type:"checkbox",checked:u.services_add,onChange:y})}),Object(f.jsx)(d.a,{xxs:"3",className:"d-flex flex-column justify-content-center",children:Object(f.jsx)(E.a,{id:"services_edit",type:"checkbox",checked:u.services_edit,onChange:y})})]}),Object(f.jsxs)(l.a,{className:"mt-2",children:[Object(f.jsx)(d.a,{xxs:"6",className:"d-flex flex-column justify-content-center",children:Object(f.jsx)(S.a,{className:"m-0 align-middle",children:Object(f.jsx)(U.a,{id:"pages.status"})})}),Object(f.jsx)(d.a,{xxs:"3",className:"d-flex flex-column justify-content-center",children:Object(f.jsx)(E.a,{id:"status_add",type:"checkbox",checked:u.status_add,onChange:y})}),Object(f.jsx)(d.a,{xxs:"3",className:"d-flex flex-column justify-content-center",children:Object(f.jsx)(E.a,{id:"status_edit",type:"checkbox",checked:u.status_edit,onChange:y})})]})]}),Object(f.jsxs)(P.a,{children:[Object(f.jsx)(M.a,{color:"danger",outline:!0,onClick:function(){c(),x(Object(s.a)(Object(s.a)({},a),{},{password:"null"}))},children:Object(f.jsx)(U.a,{id:"pages.cancel"})}),Object(f.jsxs)(M.a,{id:"edit-user",color:"primary",className:"btn-shadow btn-multiple-state ".concat(g?"show-spinner":""),onClick:function(){u.password.length<=3?I.b.error("Password should be more than 3 characters.","User Operation Error",3e3,null,null,""):p()},children:[Object(f.jsxs)("span",{className:"spinner d-inline-block",children:[Object(f.jsx)("span",{className:"bounce1"}),Object(f.jsx)("span",{className:"bounce2"}),Object(f.jsx)("span",{className:"bounce3"})]}),Object(f.jsx)("span",{className:"label",children:Object(f.jsx)(U.a,{id:"pages.submit"})})]})]})]})})),V=[{column:"email",label:"Email"},{column:"superadmin",label:"Super Admin"},{column:"admin",label:"Admin"}],G=[4,8,12,20],H=function(e,t,a){for(var c=0;c<t.length;c+=1)if(t[c][a]===e)return c;return-1};t.default=Object(r.b)((function(e){var t=e.authUser,a=e.accountsApp;return{accessToken:t.accessToken,allUsersData:a.allUsersData,currentUserData:a.currentUserData,filters:a.filters,loading:a.loading,message:a.message,error:a.error}}),{getUsersAction:T.Qb,updateFiltersAction:T.Xb})((function(e){var t=e.match,a=e.loading,r=e.filters,o=e.allUsersData,j=e.accessToken,b=e.getUsersAction,m=e.updateFiltersAction,u=r.currentPage,x=r.selectedOrderOption,O=r.selectedPageSize,h=r.search,p=o.data,g=o.totalPage,N=o.totalItems,y=Object(i.useState)(!1),k=Object(n.a)(y,2),_=k[0],C=k[1],w=Object(i.useState)(!1),S=Object(n.a)(w,2),A=S[0],E=S[1],P=Object(i.useState)([]),M=Object(n.a)(P,2),U=M[0],z=M[1],I=Object(i.useState)(null),T=Object(n.a)(I,2),F=T[0],R=T[1],D=Object(i.useState)((function(){return void 0===p[0]?{email:"",phone_number:"",is_superadmin:!1,client_add:!1,client_edit:!1,services_add:!1,services_edit:!1,category_add:!1,category_edit:!1,status_add:!1,status_edit:!1,is_enabled:!1}:p[0]})),Z=Object(n.a)(D,2),X=Z[0],B=Z[1],K=function(e){m(Object(s.a)(Object(s.a)({},r),{},{currentPage:e}))};Object(i.useEffect)((function(){K(1)}),[O,x]),Object(i.useEffect)((function(){b(j,r)}),[O,u,x,h]);var L=(u-1)*O,Q=u*O;return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)(l.a,{children:[a&&Object(f.jsx)("div",{className:"loading","data-keyboard":"false","data-backdrop":"static"}),Object(f.jsx)(d.a,{xxs:"12",className:"mb-4",children:Object(f.jsxs)("div",{className:"disable-text-selection",children:[Object(f.jsx)(J,{heading:"menu.user",changeOrderBy:function(e){var t;t=V.find((function(t){return t.column===e})),m(Object(s.a)(Object(s.a)({},r),{},{selectedOrderOption:t}))},changePageSize:function(e){m(Object(s.a)(Object(s.a)({},r),{},{selectedPageSize:e}))},selectedPageSize:O,totalItemCount:N,selectedOrderOption:x,match:t,startIndex:L,endIndex:Q,selectedItemsLength:U?U.length:0,itemsLength:p?p.length:0,onSearchKey:function(e){var t;"Enter"===e.key&&(t=e.target.value.toLowerCase(),m(Object(s.a)(Object(s.a)({},r),{},{search:t})))},orderOptions:V,pageSizes:G,toggleModal:function(){return C(!_)}}),Object(f.jsx)(q,{modalOpen:_,toggleModal:function(){return C(!_)}}),Object(f.jsx)($,{modalOpen:A,toggleModal:function(){return E(!A)},currentUserData:X}),Object(f.jsx)(v,{items:p||[],selectedItems:U,onCheckItem:function(e,t){if("A"===e.target.tagName||e.target.parentElement&&"A"===e.target.parentElement.tagName)return!0;null===F&&R(t);var a=Object(c.a)(U);if(a.includes(t)?a=a.filter((function(e){return e!==t})):a.push(t),z(a),e.shiftKey){var s=Object(c.a)(p),n=H(t,s,"id"),i=H(F,s,"id");s=s.slice(Math.min(n,i),Math.max(n,i)+1),U.push.apply(U,Object(c.a)(s.map((function(e){return e.id})))),a=Array.from(new Set(U)),z(a)}return document.activeElement.blur(),!1},currentPage:u,totalPage:g,onContextMenuClick:function(e,t){switch(t.action){case"edit":B(t.data),E(!0);break;case"create-new":C(!0)}},onContextMenu:function(e,t){var a=t.data.email;return U.includes(a)||z([a]),!0},onChangePage:K})]})})]})})}))}}]);
//# sourceMappingURL=viwes-account.e9dffe18.chunk.js.map